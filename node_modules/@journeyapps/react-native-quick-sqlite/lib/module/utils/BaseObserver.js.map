{"version":3,"names":["v4","BaseObserver","constructor","_defineProperty","listeners","registerListener","listener","id","iterateListeners","cb","i"],"sources":["BaseObserver.ts"],"sourcesContent":["import { v4 } from 'uuid';\n\nexport interface BaseObserverInterface<T extends BaseListener> {\n  registerListener(listener: Partial<T>): () => void;\n}\n\nexport type BaseListener = {\n  [key: string]: (...event: any) => any;\n};\n\nexport class BaseObserver<T extends BaseListener = BaseListener> implements BaseObserverInterface<T> {\n  protected listeners: { [id: string]: Partial<T> };\n\n  constructor() {\n    this.listeners = {};\n  }\n\n  registerListener(listener: Partial<T>): () => void {\n    const id = v4();\n    this.listeners[id] = listener;\n    return () => {\n      delete this.listeners[id];\n    };\n  }\n\n  iterateListeners(cb: (listener: Partial<T>) => any) {\n    for (let i in this.listeners) {\n      cb(this.listeners[i]);\n    }\n  }\n}\n"],"mappings":";;;AAAA,SAASA,EAAE,QAAQ,MAAM;AAUzB,OAAO,MAAMC,YAAY,CAA4E;EAGnGC,WAAWA,CAAA,EAAG;IAAAC,eAAA;IACZ,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC;EACrB;EAEAC,gBAAgBA,CAACC,QAAoB,EAAc;IACjD,MAAMC,EAAE,GAAGP,EAAE,CAAC,CAAC;IACf,IAAI,CAACI,SAAS,CAACG,EAAE,CAAC,GAAGD,QAAQ;IAC7B,OAAO,MAAM;MACX,OAAO,IAAI,CAACF,SAAS,CAACG,EAAE,CAAC;IAC3B,CAAC;EACH;EAEAC,gBAAgBA,CAACC,EAAiC,EAAE;IAClD,KAAK,IAAIC,CAAC,IAAI,IAAI,CAACN,SAAS,EAAE;MAC5BK,EAAE,CAAC,IAAI,CAACL,SAAS,CAACM,CAAC,CAAC,CAAC;IACvB;EACF;AACF","ignoreList":[]}