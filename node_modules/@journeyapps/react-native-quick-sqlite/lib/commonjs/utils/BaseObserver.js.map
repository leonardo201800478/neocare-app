{"version":3,"names":["_uuid","require","_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","t","i","_toPrimitive","String","r","e","Symbol","toPrimitive","call","TypeError","Number","BaseObserver","constructor","listeners","registerListener","listener","id","v4","iterateListeners","cb","exports"],"sources":["BaseObserver.ts"],"sourcesContent":["import { v4 } from 'uuid';\n\nexport interface BaseObserverInterface<T extends BaseListener> {\n  registerListener(listener: Partial<T>): () => void;\n}\n\nexport type BaseListener = {\n  [key: string]: (...event: any) => any;\n};\n\nexport class BaseObserver<T extends BaseListener = BaseListener> implements BaseObserverInterface<T> {\n  protected listeners: { [id: string]: Partial<T> };\n\n  constructor() {\n    this.listeners = {};\n  }\n\n  registerListener(listener: Partial<T>): () => void {\n    const id = v4();\n    this.listeners[id] = listener;\n    return () => {\n      delete this.listeners[id];\n    };\n  }\n\n  iterateListeners(cb: (listener: Partial<T>) => any) {\n    for (let i in this.listeners) {\n      cb(this.listeners[i]);\n    }\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAA0B,SAAAC,gBAAAC,GAAA,EAAAC,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAD,GAAA,IAAAI,MAAA,CAAAC,cAAA,CAAAL,GAAA,EAAAC,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAI,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAR,GAAA,CAAAC,GAAA,IAAAC,KAAA,WAAAF,GAAA;AAAA,SAAAG,eAAAM,CAAA,QAAAC,CAAA,GAAAC,YAAA,CAAAF,CAAA,uCAAAC,CAAA,GAAAA,CAAA,GAAAE,MAAA,CAAAF,CAAA;AAAA,SAAAC,aAAAF,CAAA,EAAAI,CAAA,2BAAAJ,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAK,CAAA,GAAAL,CAAA,CAAAM,MAAA,CAAAC,WAAA,kBAAAF,CAAA,QAAAJ,CAAA,GAAAI,CAAA,CAAAG,IAAA,CAAAR,CAAA,EAAAI,CAAA,uCAAAH,CAAA,SAAAA,CAAA,YAAAQ,SAAA,yEAAAL,CAAA,GAAAD,MAAA,GAAAO,MAAA,EAAAV,CAAA;AAUnB,MAAMW,YAAY,CAA4E;EAGnGC,WAAWA,CAAA,EAAG;IAAAtB,eAAA;IACZ,IAAI,CAACuB,SAAS,GAAG,CAAC,CAAC;EACrB;EAEAC,gBAAgBA,CAACC,QAAoB,EAAc;IACjD,MAAMC,EAAE,GAAG,IAAAC,QAAE,EAAC,CAAC;IACf,IAAI,CAACJ,SAAS,CAACG,EAAE,CAAC,GAAGD,QAAQ;IAC7B,OAAO,MAAM;MACX,OAAO,IAAI,CAACF,SAAS,CAACG,EAAE,CAAC;IAC3B,CAAC;EACH;EAEAE,gBAAgBA,CAACC,EAAiC,EAAE;IAClD,KAAK,IAAIlB,CAAC,IAAI,IAAI,CAACY,SAAS,EAAE;MAC5BM,EAAE,CAAC,IAAI,CAACN,SAAS,CAACZ,CAAC,CAAC,CAAC;IACvB;EACF;AACF;AAACmB,OAAA,CAAAT,YAAA,GAAAA,YAAA","ignoreList":[]}