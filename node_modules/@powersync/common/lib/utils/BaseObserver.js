import { v4 } from 'uuid';
export class BaseObserver {
    listeners;
    constructor() {
        this.listeners = {};
    }
    /**
     * Register a listener for updates to the PowerSync client.
     */
    registerListener(listener) {
        const id = v4();
        this.listeners[id] = listener;
        return () => {
            delete this.listeners[id];
        };
    }
    iterateListeners(cb) {
        for (const i in this.listeners) {
            cb(this.listeners[i]);
        }
    }
}
//# sourceMappingURL=BaseObserver.js.map